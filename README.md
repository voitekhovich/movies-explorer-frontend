# –ü—Ä–æ–µ–∫—Ç ¬´[MOVIES](https://movies.voitekhovich.nomoredomains.club/)¬ª (backend)

–î–∏–ø–ª–æ–º–Ω—ã–π –ø—Ä–æ–µ–∫—Ç [–Ø–Ω–¥–µ–∫—Å.–ü—Ä–∞–∫—Ç–∏–∫—É–º](https://practicum.yandex.ru/) –ø–æ –∫—É—Ä—Å—É "Web-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫".\
–°–µ—Ä–≤–∏—Å, –≤ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ —Ñ–∏–ª—å–º—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ.\
API: https://api.movies.voitekhovich.nomoredomains.club

https://user-images.githubusercontent.com/30049720/228648047-0b5c3594-a0c4-4466-b7a8-fadeb4d0894a.mp4

## üïπ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

* –†–∞–∑–¥–µ–ª —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞ –∏ –æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–µ
* –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
* –ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å–º–∞—Ö –ø–æ API –∑–∞–ø—Ä–æ—Å—É –∏–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
* –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ñ–∏–ª—å–º–æ–≤ –ø–æ –∏–º–µ–Ω–∏ –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
* –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∏–ª—å–º–∞ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
* –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

## üôÑ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

* express.js
* MongoDB
* React
* HTML CSS JS
* Fetch API
* –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤—ë—Ä—Å—Ç–∫–∞ –ø–æ [–º–∞–∫–µ—Ç—É –≤ Figma](https://disk.yandex.ru/d/3kZ7wbwTR-twVg)
* –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ –ø–æ [–º–µ—Ç–æ–¥–æ–ª–æ—Ç–≥–∏–∏ –ë–≠–ú](https://ru.bem.info/methodology/)

## üì∫ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∂–∏–≤—É—é
https://movies.voitekhovich.nomoredomains.club/

## üëæ API –∑–∞–ø—Ä–æ—Å—ã

| –ó–∞–ø—Ä–æ—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--|--|
| GET /users/me | –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (email –∏ –∏–º—è) |
| PATCH /users/me | –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (email –∏ –∏–º—è) |
| GET /movies | –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ç–µ–∫—É—â–∏–º  –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ñ–∏–ª—å–º—ã |
| POST /movies | —Å–æ–∑–¥–∞—ë—Ç —Ñ–∏–ª—å–º —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ –≤ —Ç–µ–ª–µ <br> **country, director, duration, year, description, image, trailer, nameRU, nameEN –∏ thumbnail, movieId** |
| DELETE /movies/\_id | —É–¥–∞–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π —Ñ–∏–ª—å–º –ø–æ id |
| POST /signup | —Å–æ–∑–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ –≤ —Ç–µ–ª–µ <br> **email, password –∏ name** |
| POST /signin | –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –≤ —Ç–µ–ª–µ –ø–æ—á—Ç—É –∏ –ø–∞—Ä–æ–ª—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT |

## üõ† –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
* Node.js - 16.18.0
* MongoDB - 4.4.x

**[Backend:](https://github.com/voitekhovich/movies-explorer-api)**
```
git clone https://github.com/voitekhovich/movies-explorer-api.git
cd movies-explorer-api/
npm i
npm run start
```

**[Frontend:](https://github.com/voitekhovich/movies-explorer-frontend)**
```
git clone https://github.com/voitekhovich/movies-explorer-frontend.git
cd movies-explorer-frontend/
npm i
echo PORT=3001 > .env
npm run start
```

## üõ† –ó–∞–ø—É—Å–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
* Node.js - 16.18.0
* MongoDB - 4.4.x
* PM2
* Nginx

**[Backend:](https://github.com/voitekhovich/movies-explorer-api)**
```
git clone https://github.com/voitekhovich/movies-explorer-api.git

echo PORT=3000 >> ~/movies-explorer-api/.env
echo JWT_SECRET=[YOUR_JWT_SECRET] >> ~/movies-explorer-api/.env
echo JWT_EXPIRESIN=7d >> ~/movies-explorer-api/.env

cd ~/movies-explorer-api
npm i
pm2 start movies
```
**[Frontend:](https://github.com/voitekhovich/movies-explorer-frontend)**
```
git clone https://github.com/voitekhovich/movies-explorer-frontend.git

echo PORT=3001 >> ~/movies-explorer-frontend/.env
echo REACT_APP_BASE_URL='https://[YOUR_BACKEND_URL]' >> ~/movies-explorer-frontend/.env

cd ~/movies-explorer-frontend
npm i
npm run build
chmod +x ~/movies-explorer-frontend/build/
```
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ nginx `/etc/nginx/sites-available/default`
```
server {
      listen 80;
      server_name [YOUR_BACKEND_DOMAIN];
      location / {
                proxy_pass http://localhost:3001;
                proxy_http_version 1.1;
                proxy_set_header Upgrade $http_upgrade;
                proxy_set_header Connection 'upgrade';
                proxy_set_header Host $host;
                proxy_cache_bypass $http_upgrade;
      }
}

server {
      listen 80;
      server_name [YOUR_FRONTEND_DOMAIN];
      root /home/[YOUR_USERNAME]/movies-explorer-frontend/build;
      location / {
                try_files $uri $uri/ /index.html;
      }
}
```
